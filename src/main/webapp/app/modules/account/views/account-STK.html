<div layout="column" flex="100" ng-controller="AccountSTKController">
    <div layout="row" layout-padding layout-align="center center"  md-colors="{color: 'blue-grey-600'}">
        <div layout="column" flex="33" flex-xs="50">
            <div layout="row" layout-align="start center">
                <img hide-xs ng-if="account.type" ng-src="resources/static/images/{{account.type}}-icon.png" style="height: 42px; width: 42px;"/>
                <span hide-xs class="md-headline md-padding">{{account.name}}</span>
                <span hide-gt-xs class="md-subhead md-padding">{{account.name}}</span>
            </div>
        </div>
        <div layout="column" flex="66" hide-xs>
            <div layout="row">
                <!--<div layout="column" flex="50">-->
                    <!--<div layout="row" layout-align="center center">-->
                        <!--<span class="md-headline">{{totalProfit.grossValue | currency}}</span><span>({{totalProfit.grossPercent*100 | number:2}}%)</span>-->
                    <!--</div>-->
                    <!--<div layout="row" layout-align="center center">-->
                        <!--<span class="md-caption">Rendimento Bruto</span>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<md-divider></md-divider>-->
                <!--<div layout="column" flex="50">-->
                    <!--<div layout="row" layout-align="center center">-->
                        <!--<span class="md-headline">{{totalProfit.netValue | currency}}</span><span>({{totalProfit.netPercent*100 | number:2}}%)</span>-->
                    <!--</div>-->
                    <!--<div layout="row" layout-align="center center">-->
                        <!--<span class="md-caption">Rendimento Líquido</span>-->
                    <!--</div>-->
                <!--</div>-->

                <div layout="column" flex="30" class="md-padding" layout-align="center center">
                    <span class="md-subhead">Posição Bruta</span>
                    <div layout="row" md-colors="{color: 'blue-grey-700'}">
                        <div layout="column" layout-align="center center">
                            <span class="md-body-2">{{account.grossBalance | currency}}</span>
                            <span class="md-caption" md-colors="{color: 'blue-grey-300'}">Total</span>
                        </div>
                        <div layout="column" layout-align="center center">
                            <div layout="row">
                                <span class="md-body-2" style="margin: 0px 5px 0px 25px;">{{account.grossProfit | currency}}</span>
                                <span class="md-body-2">({{account.percentGrossProfit | number:2}}%)</span>
                            </div>
                            <span class="md-caption" md-colors="{color: 'blue-grey-300'}">Lucro</span>
                        </div>
                    </div>
                </div>
                <md-divider></md-divider>
                <div layout="column" flex="30" class="md-padding" layout-align="center center">
                    <span class="md-subhead">Posição Líquida</span>
                    <div layout="row" md-colors="{color: 'blue-grey-700'}">
                        <div layout="column" layout-align="center center">
                            <span class="md-body-2">{{account.balance | currency}}</span>
                            <span class="md-caption" md-colors="{color: 'blue-grey-300'}">Total</span>
                        </div>
                        <div layout="column" layout-align="center center">
                            <div layout="row">
                                <span class="md-body-2" style="margin: 0px 5px 0px 25px;">{{account.netProfit | currency}}</span>
                                <span class="md-body-2">({{account.percentNetProfit | number:2}}%)</span>
                            </div>
                            <span class="md-caption" md-colors="{color: 'blue-grey-300'}">Lucro</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--<div layout="column" flex="33" flex-xs="50">-->
            <!--<div layout="row" layout-align="end center">-->
                <!--<span hide-xs class="md-display-1" my-currency="account.balance"></span>-->
                <!--<span hide-gt-xs class="md-title"  my-currency="account.balance"></span>-->
            <!--</div>-->
        <!--</div>-->
    </div>
    <md-divider></md-divider>
    <div layout="row">
        <div layout="column" flex="100">
            <div layout="row" layout-align="start center" layout-wrap>
                <md-card ng-repeat="(code, stock) in activeStocks"
                         class="border-radius-5 flat"
                         style="font: 12px MontserratLight,Arial,sans-; min-width:220px"
                         layout="column">
                    <md-card-header class="md-body-2" layout="row">
                        <!--<div layout="row">-->
                        <div layout="column" flex layout-align="center start"><span class="md-subhead">{{code}}</span></div>
                        <div layout="column" flex="20" layout-align="center center">
                            <img  src="https://novopit.clear.com.br/Content/Icons/{{code.substring(0, 4)}}.png" alt="logo"/>
                        </div>
                        <!--</div>-->
                    </md-card-header>
                    <md-card-content>
                        <div layout="row" style="margin-bottom:4px">
                            <div layout="column" flex="50" class="md-caption" md-colors="{color: 'blue-grey-400'}" layout-align="center center">{{stock.pgp | number:2}}%</div>
                            <md-divider></md-divider>
                            <div layout="column" flex="50" class="md-caption" md-colors="{color: 'blue-grey-400'}" layout-align="center center">{{stock.gp | currency}}</div>
                        </div>
                        <div layout="row">
                            <div layout="column" flex="50" class="md-caption" md-colors="{color: 'blue-grey-400'}" layout-align="center center"><strong>{{stock.lp | currency}}</strong></div>
                            <md-divider></md-divider>
                            <div layout="column" flex="50" class="md-caption" md-colors="{color: 'blue-grey-400'}" layout-align="center center">{{stock.ai | currency}}</div>
                        </div>
                    </md-card-content>
                </md-card>
            </div>
        </div>
    </div>
    <div layout="row" layout-align="start start">
        <div layout="column" flex="60" flex-xs="100" flex-offset="5">
            <div layout="row" layout-align="center center">
                <div layout="column" flex="90" ng-if="account.stocks.length<=0">
                    <h6 style="color: #7A7A7A;font-style: italic;">Não existem ações nesta carteira.</h6>
                </div>
                <table layout="column" flex="100" class="table-striped" style="margin:10px;" ng-if="account.stocks.length>0">
                    <thead>
                    <tr layout="row">
                        <th flex="10" flex-xs="10">Ativo</th>
                        <th flex="15" flex-xs="25">Operação</th>
                        <th flex="15" flex-xs="25">Inclusão</th>
                        <th flex="10" hide-xs>Preço Ori.</th>
                        <th flex="10" hide-xs>Preço Ult.</th>
                        <th flex="10" hide-xs>Taxas</th>
                        <th flex="10" flex-xs="25">Var. Bruta</th>
                        <th flex="10" hide-xs>Var. Líq.</th>
                        <th flex="20" flex-xs="30">Posição</th>
                        <th flex="5" flex-xs="10"></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr layout="row" ng-repeat="item in account.stocks" ng-if="item.quantity>0"  layout-align="center center" class="c-hover">
                            <td flex="10" flex-xs="10">{{ item.code }}</td>
                            <td flex="15" flex-xs="25">{{ item.operation }}</td>
                            <td flex="15" flex-xs="25">{{ item.date | date : 'dd/MM/yyyy' }}</td>
                            <td flex="10" hide-xs>{{ item.originalPrice | currency }}</td>
                            <td flex="10" hide-xs>{{ item.lastPrice | currency }}</td>
                            <td flex="10" hide-xs>{{ item.brokerage | currency }}</td>
                            <td flex="10" flex-xs="25">{{ item.percentGrossProfitability | number:2 }}%</td>
                            <td flex="10" hide-xs>{{ item.percentNetProfitability | number:2 }}%</td>
                            <td flex="20" flex-xs="30" my-currency="item.currentValue"></td>
                            <td flex="5" flex-xs="10">
                                <div layout="row">
                                    <md-button class="md-icon-button" ng-click="remove(item)" aria-label="Remover">
                                        <md-icon class="material-icons step md-18">highlight_off</md-icon>
                                    </md-button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
